<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifas Online - Sistema de Gestión</title>
    <style>
        :root {
            --primary: #4e73df;
            --secondary: #858796;
            --success: #1cc88a;
            --danger: #e74a3b;
            --warning: #f6c23e;
            --info: #36b9cc;
            --light: #f8f9fc;
            --dark: #5a5c69;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fc;
            color: #333;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, #2a3e9d 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 1.5rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }
        
        nav a:hover {
            opacity: 0.8;
        }
        
        .hero {
            text-align: center;
            padding: 3rem 0;
            background-color: white;
            margin-bottom: 2rem;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .hero p {
            font-size: 1.2rem;
            color: var(--secondary);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .numbers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin: 2rem 0;
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .number {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--primary);
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .number:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .number.selected {
            background-color: var(--primary);
            color: white;
        }
        
        .number.reserved {
            background-color: var(--secondary);
            color: white;
            cursor: not-allowed;
        }
        
        .section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3a59c7;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #17a673;
        }
        
        .payment-details {
            background-color: #f8f9fc;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
        }
        
        .payment-details h3 {
            margin-bottom: 1rem;
            color: var(--dark);
        }
        
        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 1rem;
                justify-content: center;
            }
            
            nav li {
                margin: 0 0.5rem;
            }
            
            .numbers-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            }
            
            .number {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">RifasOnlineVE</div>
            <nav>
                <ul>
                    <li><a href="#">Inicio</a></li>
                    <li><a href="#">Cómo Participar</a></li>
                    <li><a href="#">Premios</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <h1>Gran Rifa 10.000 Números</h1>
            <p>Selecciona tus números, realiza tu pago y participa por fantasticos premios</p>
        </section>

        <section class="section">
            <h2>Selecciona tus números</h2>
            <div class="numbers-grid" id="numbersGrid">
                <!-- Los números se generarán con JavaScript -->
            </div>
            <div class="form-group">
                <label>Números seleccionados:</label>
                <div id="selectedNumbers">Ningún número seleccionado</div>
            </div>
        </section>

        <section class="section">
            <h2>Datos del Participante</h2>
            <form id="userDataForm">
                <div class="form-group">
                    <label for="name">Nombre completo:</label>
                    <input type="text" id="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="cedula">Cédula de identidad:</label>
                    <input type="text" id="cedula" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono:</label>
                    <input type="tel" id="phone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="email">Correo electrónico:</label>
                    <input type="email" id="email" class="form-control" required>
                </div>
                <button type="button" class="btn btn-primary" id="btnContinue">Continuar al Pago</button>
            </form>
        </section>

        <section class="section" id="paymentSection" style="display: none;">
            <h2>Información de Pago</h2>
            <div class="payment-details">
                <h3>Datos para transferencia:</h3>
                <p><strong>Banco:</strong> Banco de Venezuela</p>
                <p><strong>Tipo de cuenta:</strong> Pago Móvil</p>
                <p><strong>Teléfono:</strong> 0412-1234567</p>
                <p><strong>Cédula:</strong> V-12345678</p>
                <p><strong>Monto a pagar:</strong> <span id="amountToPay">0</span> Bs.S</p>
            </div>
            
            <div class="form-group">
                <label for="referenceNumber">Número de referencia de pago:</label>
                <input type="text" id="referenceNumber" class="form-control" placeholder="Ej: 123456789">
            </div>
            
            <div class="form-group">
                <label for="paymentDate">Fecha del pago:</label>
                <input type="date" id="paymentDate" class="form-control">
            </div>
            
            <div class="form-group">
                <label for="paymentTime">Hora del pago (aproximada):</label>
                <input type="time" id="paymentTime" class="form-control">
            </div>
            
            <button type="button" class="btn btn-success" id="btnVerifyPayment">Verificar Pago y Confirmar</button>
            
            <div id="paymentAlert"></div>
        </section>

        <section class="section" id="confirmationSection" style="display: none;">
            <h2>¡Participación Confirmada!</h2>
            <div class="alert alert-success">
                <p>Tu pago ha sido verificado y tus números han sido reservados exitosamente.</p>
                <p><strong>Números asignados:</strong> <span id="confirmedNumbers"></span></p>
                <p>Hemos enviado un correo electrónico con los detalles de tu participación.</p>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 RifasOnlineVE - Todos los derechos reservados</p>
            <p>Sistema de rifas con verificación de pagos Pago Móvil</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const numbersGrid = document.getElementById('numbersGrid');
            const selectedNumbersDiv = document.getElementById('selectedNumbers');
            const btnContinue = document.getElementById('btnContinue');
            const paymentSection = document.getElementById('paymentSection');
            const amountToPay = document.getElementById('amountToPay');
            const btnVerifyPayment = document.getElementById('btnVerifyPayment');
            const paymentAlert = document.getElementById('paymentAlert');
            const confirmationSection = document.getElementById('confirmationSection');
            const confirmedNumbers = document.getElementById('confirmedNumbers');
            
            let selectedNumbers = [];
            const pricePerNumber = 5; // Precio por número en Bs.S
            
            // Generar los 10,000 números
            for (let i = 1; i <= 10000; i++) {
                const numberElement = document.createElement('div');
                numberElement.className = 'number';
                numberElement.textContent = i;
                numberElement.dataset.number = i;
                
                // Simular que algunos números ya están reservados (10% aleatoriamente)
                if (Math.random() < 0.1) {
                    numberElement.classList.add('reserved');
                    numberElement.style.cursor = 'not-allowed';
                } else {
                    numberElement.addEventListener('click', toggleNumberSelection);
                }
                
                numbersGrid.appendChild(numberElement);
            }
            
            function toggleNumberSelection() {
                const number = parseInt(this.dataset.number);
                
                if (this.classList.contains('selected')) {
                    // Deseleccionar
                    this.classList.remove('selected');
                    selectedNumbers = selectedNumbers.filter(n => n !== number);
                } else {
                    // Seleccionar
                    this.classList.add('selected');
                    selectedNumbers.push(number);
                }
                
                updateSelectedNumbersDisplay();
            }
            
            function updateSelectedNumbersDisplay() {
                if (selectedNumbers.length === 0) {
                    selectedNumbersDiv.textContent = 'Ningún número seleccionado';
                } else {
                    selectedNumbersDiv.textContent = selectedNumbers.join(', ');
                    // Actualizar el monto a pagar
                    amountToPay.textContent = selectedNumbers.length * pricePerNumber;
                }
            }
            
            btnContinue.addEventListener('click', function() {
                if (selectedNumbers.length === 0) {
                    alert('Por favor selecciona al menos un número');
                    return;
                }
                
                // Validar formulario de usuario
                const name = document.getElementById('name').value;
                const cedula = document.getElementById('cedula').value;
                const phone = document.getElementById('phone').value;
                const email = document.getElementById('email').value;
                
                if (!name || !cedula || !phone || !email) {
                    alert('Por favor completa todos tus datos');
                    return;
                }
                
                // Mostrar sección de pago
                paymentSection.style.display = 'block';
                paymentSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            btnVerifyPayment.addEventListener('click', function() {
                const referenceNumber = document.getElementById('referenceNumber').value;
                const paymentDate = document.getElementById('paymentDate').value;
                
                if (!referenceNumber || !paymentDate) {
                    showPaymentAlert('Por favor completa todos los datos de pago', 'error');
                    return;
                }
                
                // Simular verificación de pago
                showPaymentAlert('Verificando pago...', 'loading');
                
                // Simular demora de verificación
                setTimeout(() => {
                    // Simular éxito en la verificación (en un caso real, esto se conectaría a una API)
                    const verificationSuccess = Math.random() > 0.2; // 80% de éxito simulado
                    
                    if (verificationSuccess) {
                        showPaymentAlert('¡Pago verificado exitosamente!', 'success');
                        
                        // Ocultar sección de pago y mostrar confirmación
                        setTimeout(() => {
                            paymentSection.style.display = 'none';
                            confirmationSection.style.display = 'block';
                            confirmedNumbers.textContent = selectedNumbers.join(', ');
                            confirmationSection.scrollIntoView({ behavior: 'smooth' });
                            
                            // Marcar números como reservados en la interfaz
                            selectedNumbers.forEach(number => {
                                const numberElement = document.querySelector(`.number[data-number="${number}"]`);
                                if (numberElement) {
                                    numberElement.classList.remove('selected');
                                    numberElement.classList.add('reserved');
                                    numberElement.removeEventListener('click', toggleNumberSelection);
                                    numberElement.style.cursor = 'not-allowed';
                                }
                            });
                            
                            // Aquí en una aplicación real, se enviarían los datos al servidor
                            console.log('Datos guardados:', {
                                name: document.getElementById('name').value,
                                cedula: document.getElementById('cedula').value,
                                phone: document.getElementById('phone').value,
                                email: document.getElementById('email').value,
                                numbers: selectedNumbers,
                                reference: referenceNumber,
                                date: paymentDate
                            });
                            
                        }, 1500);
                    } else {
                        showPaymentAlert('No pudimos verificar tu pago. Por favor revisa los datos e intenta nuevamente.', 'error');
                    }
                }, 2000);
            });
            
            function showPaymentAlert(message, type) {
                paymentAlert.innerHTML = `<div class="alert ${type === 'success' ? 'alert-success' : 'alert-danger'}">${message}</div>`;
                
                if (type === 'loading') {
                    paymentAlert.innerHTML = `<div class="alert alert-info">${message}</div>`;
                }
            }
        });
    </script>
</body>
</html>